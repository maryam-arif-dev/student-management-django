{% extends "base.html" %} {% block content %}
<div class="list student-list">
  <div class="list-title student-list-title">
    <h2>Students</h2>
  </div>
  <div class="list-search">
    <form method="get" class="search-form">
      <input
        type="text"
        name="q"
        placeholder="Search by name, email, phone, or address"
        value="{{ query | default:'' }}"
      />
      <button type="submit">Search</button>
    </form>
  </div>
  <div class="list-table student-list-table">
    <table>
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Address</th>
          <th>Date of Birth</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for student in page_obj %}
        <tr>
          <td data-label="First Name">{{ student.first_name }}</td>
          <td data-label="Last Name">{{ student.last_name }}</td>
          <td data-label="Email">{{ student.email }}</td>
          <td data-label="Phone">{{ student.phone_number }}</td>
          <td data-label="Address">{{ student.address }}</td>
          <td data-label="Date of Birth">{{ student.date_of_birth }}</td>
          <td data-label="Actions">
            <a href="{% url 'students:edit' student.id %}">Edit</a> |
            <a href="{% url 'students:delete' student.id %}">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="pagination">
    {% if page_obj.has_previous %}
    <a href="?page=1{% if query %}&q={{ query }}{% endif %}">&laquo; First</a>
    <a
      href="?page={{ page_obj.previous_page_number }}{% if query %}&q={{ query }}{% endif %}"
      >Previous</a
    >
    {% endif %}

    <span class="current-page">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </span>

    {% if page_obj.has_next %}
    <a
      href="?page={{ page_obj.next_page_number }}{% if query %}&q={{ query }}{% endif %}"
      >Next</a
    >
    <a
      href="?page={{ page_obj.paginator.num_pages }}{% if query %}&q={{ query }}{% endif %}"
      >Last &raquo;</a
    >
    {% endif %}
  </div>

  <div class="list-link student-list-link">
    <a href="{% url 'students:add' %}">Add New Student</a>
  </div>
</div>
{% endblock %}
